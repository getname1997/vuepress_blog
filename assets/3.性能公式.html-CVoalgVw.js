import{_ as s,c as a,a as p,o as t}from"./app-Bjm7WZ4G.js";const e={};function o(c,n){return t(),a("div",null,[...n[0]||(n[0]=[p(`<h1 id="性能公式" tabindex="-1"><a class="header-anchor" href="#性能公式"><span>性能公式</span></a></h1><h2 id="均方根误差-rmse-‖·‖2" tabindex="-1"><a class="header-anchor" href="#均方根误差-rmse-‖·‖2"><span>均方根误差 RMSE ‖·‖2</span></a></h2><blockquote><p><strong>RMSE = √[ (1/n) × Σ(y_i - ŷ_i)² ]</strong></p><ul><li><strong>y_i</strong> = 第 i 个实际值</li><li><strong>ŷ_i</strong> = 第 i 个预测值</li><li><strong>n</strong> = 样本数量</li><li><strong>Σ</strong> = 求和符号（对所有样本 i=1 到 n）</li></ul></blockquote><h4 id="计算步骤" tabindex="-1"><a class="header-anchor" href="#计算步骤"><span>计算步骤</span></a></h4><ol><li><strong>计算每个预测的误差</strong>：e_i = y_i - ŷ_i</li><li><strong>计算误差的平方</strong>：e_i²</li><li><strong>计算平方和</strong>：SSE = Σ e_i²</li><li><strong>计算平均值</strong>：MSE = SSE / n</li><li><strong>取平方根</strong>：RMSE = √(MSE)</li></ol><div class="language-python line-numbers-mode" data-highlighter="prismjs" data-ext="py"><pre><code class="language-python"><span class="line"><span class="token keyword">import</span> numpy <span class="token keyword">as</span> np</span>
<span class="line"></span>
<span class="line"><span class="token keyword">def</span> <span class="token function">rmse</span><span class="token punctuation">(</span>actual<span class="token punctuation">,</span> predicted<span class="token punctuation">)</span><span class="token punctuation">:</span></span>
<span class="line">    <span class="token keyword">return</span> np<span class="token punctuation">.</span>sqrt<span class="token punctuation">(</span>np<span class="token punctuation">.</span>mean<span class="token punctuation">(</span><span class="token punctuation">(</span>np<span class="token punctuation">.</span>array<span class="token punctuation">(</span>actual<span class="token punctuation">)</span> <span class="token operator">-</span> np<span class="token punctuation">.</span>array<span class="token punctuation">(</span>predicted<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">**</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># 使用示例</span></span>
<span class="line">actual <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">0.5</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">]</span></span>
<span class="line">predicted <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">2.5</span><span class="token punctuation">,</span> <span class="token number">0.0</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">]</span></span>
<span class="line"><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;RMSE: </span><span class="token interpolation"><span class="token punctuation">{</span>rmse<span class="token punctuation">(</span>actual<span class="token punctuation">,</span> predicted<span class="token punctuation">)</span><span class="token punctuation">:</span><span class="token format-spec">.3f</span><span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="平均绝对误差-mae-公式-‖·‖1" tabindex="-1"><a class="header-anchor" href="#平均绝对误差-mae-公式-‖·‖1"><span>平均绝对误差（MAE）公式 ‖·‖1</span></a></h2><blockquote><p><strong>MAE = (1/n) × Σ|y_i - ŷ_i|</strong></p><ul><li><strong>y_i</strong> = 第 i 个实际值</li><li><strong>ŷ_i</strong> = 第 i 个预测值</li><li><strong>n</strong> = 样本数量</li><li><strong>| |</strong> = 绝对值符号</li><li><strong>Σ</strong> = 求和符号（对所有样本 i=1 到 n）</li></ul></blockquote><h4 id="计算步骤-1" tabindex="-1"><a class="header-anchor" href="#计算步骤-1"><span>计算步骤</span></a></h4><ol><li><strong>计算每个预测的误差</strong>：e_i = y_i - ŷ_i</li><li><strong>取绝对值</strong>：|e_i|</li><li><strong>计算绝对误差的和</strong>：SAE = Σ|e_i|</li><li><strong>计算平均值</strong>：MAE = SAE / n</li></ol><div class="language-python line-numbers-mode" data-highlighter="prismjs" data-ext="py"><pre><code class="language-python"><span class="line"><span class="token keyword">import</span> numpy <span class="token keyword">as</span> np</span>
<span class="line"><span class="token keyword">def</span> <span class="token function">mae</span><span class="token punctuation">(</span>actual<span class="token punctuation">,</span> predicted<span class="token punctuation">)</span><span class="token punctuation">:</span></span>
<span class="line">    <span class="token keyword">return</span> np<span class="token punctuation">.</span>mean<span class="token punctuation">(</span>np<span class="token punctuation">.</span><span class="token builtin">abs</span><span class="token punctuation">(</span>np<span class="token punctuation">.</span>array<span class="token punctuation">(</span>actual<span class="token punctuation">)</span> <span class="token operator">-</span> np<span class="token punctuation">.</span>array<span class="token punctuation">(</span>predicted<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span></span>
<span class="line">    </span>
<span class="line">actual <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">0.5</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">]</span></span>
<span class="line">predicted <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">2.5</span><span class="token punctuation">,</span> <span class="token number">0.0</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">]</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;mae: </span><span class="token interpolation"><span class="token punctuation">{</span>mae<span class="token punctuation">(</span>actual<span class="token punctuation">,</span> predicted<span class="token punctuation">)</span><span class="token punctuation">:</span><span class="token format-spec">.3f</span><span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="移动平均线-均线-ma" tabindex="-1"><a class="header-anchor" href="#移动平均线-均线-ma"><span>移动平均线（均线，MA）</span></a></h2><h3 id="基本概念" tabindex="-1"><a class="header-anchor" href="#基本概念"><span>基本概念</span></a></h3><p>移动平均线是趋势指标，用于平滑价格数据，识别趋势方向。</p><h4 id="简单移动平均线-sma" tabindex="-1"><a class="header-anchor" href="#简单移动平均线-sma"><span>简单移动平均线（sma）</span></a></h4><p>SMA = (P1 + P2 + ... + PN) / N</p><div class="language-python line-numbers-mode" data-highlighter="prismjs" data-ext="py"><pre><code class="language-python"><span class="line">SMA <span class="token operator">=</span> <span class="token punctuation">(</span>P1 <span class="token operator">+</span> P2 <span class="token operator">+</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> <span class="token operator">+</span> PN<span class="token punctuation">)</span> <span class="token operator">/</span> N</span>
<span class="line"><span class="token comment"># 其中，P为收盘价，N为周期数。</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="指数移动平均线-ema" tabindex="-1"><a class="header-anchor" href="#指数移动平均线-ema"><span>指数移动平均线（EMA）</span></a></h4><p>EMA_today = (Price_today * (2/(N+1))) + (EMA_yesterday * (1 - 2/(N+1)))</p><div class="language-python line-numbers-mode" data-highlighter="prismjs" data-ext="py"><pre><code class="language-python"><span class="line"><span class="token keyword">import</span> numpy <span class="token keyword">as</span> np</span>
<span class="line"><span class="token keyword">import</span> pandas <span class="token keyword">as</span> pd</span>
<span class="line"></span>
<span class="line"><span class="token comment"># 简单移动平均线</span></span>
<span class="line"><span class="token keyword">def</span> <span class="token function">calculate_sma</span><span class="token punctuation">(</span>prices<span class="token punctuation">,</span> period<span class="token punctuation">)</span><span class="token punctuation">:</span></span>
<span class="line">    <span class="token keyword">return</span> prices<span class="token punctuation">.</span>rolling<span class="token punctuation">(</span>window<span class="token operator">=</span>period<span class="token punctuation">)</span><span class="token punctuation">.</span>mean<span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># 指数移动平均线</span></span>
<span class="line"><span class="token keyword">def</span> <span class="token function">calculate_ema</span><span class="token punctuation">(</span>prices<span class="token punctuation">,</span> period<span class="token punctuation">)</span><span class="token punctuation">:</span></span>
<span class="line">    <span class="token keyword">return</span> prices<span class="token punctuation">.</span>ewm<span class="token punctuation">(</span>span<span class="token operator">=</span>period<span class="token punctuation">,</span> adjust<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">)</span><span class="token punctuation">.</span>mean<span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># 示例</span></span>
<span class="line"><span class="token comment"># 假设我们有一个包含收盘价的Series：close_prices</span></span>
<span class="line"><span class="token comment"># sma_10 = SMA(close_prices, 10)</span></span>
<span class="line"><span class="token comment"># ema_10 = EMA(close_prices, 10)</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># 示例数据</span></span>
<span class="line">dates <span class="token operator">=</span> pd<span class="token punctuation">.</span>date_range<span class="token punctuation">(</span><span class="token string">&#39;2023-01-01&#39;</span><span class="token punctuation">,</span> periods<span class="token operator">=</span><span class="token number">100</span><span class="token punctuation">,</span> freq<span class="token operator">=</span><span class="token string">&#39;D&#39;</span><span class="token punctuation">)</span></span>
<span class="line">np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>seed<span class="token punctuation">(</span><span class="token number">42</span><span class="token punctuation">)</span></span>
<span class="line">close_prices <span class="token operator">=</span> <span class="token number">100</span> <span class="token operator">+</span> np<span class="token punctuation">.</span>cumsum<span class="token punctuation">(</span>np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>randn<span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment"># 模拟价格数据</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># 转换为Series</span></span>
<span class="line">price_series <span class="token operator">=</span> pd<span class="token punctuation">.</span>Series<span class="token punctuation">(</span>close_prices<span class="token punctuation">,</span> index<span class="token operator">=</span>dates<span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># 计算不同周期的移动平均线</span></span>
<span class="line">sma_10 <span class="token operator">=</span> calculate_sma<span class="token punctuation">(</span>price_series<span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span></span>
<span class="line">sma_20 <span class="token operator">=</span> calculate_sma<span class="token punctuation">(</span>price_series<span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">)</span></span>
<span class="line">ema_10 <span class="token operator">=</span> calculate_ema<span class="token punctuation">(</span>price_series<span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;SMA 10日: </span><span class="token interpolation"><span class="token punctuation">{</span>sma_10<span class="token punctuation">.</span>iloc<span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">:</span><span class="token format-spec">.2f</span><span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span></span>
<span class="line"><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;SMA 20日: </span><span class="token interpolation"><span class="token punctuation">{</span>sma_20<span class="token punctuation">.</span>iloc<span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">:</span><span class="token format-spec">.2f</span><span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span></span>
<span class="line"><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;EMA 10日: </span><span class="token interpolation"><span class="token punctuation">{</span>ema_10<span class="token punctuation">.</span>iloc<span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">:</span><span class="token format-spec">.2f</span><span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,20)])])}const i=s(e,[["render",o],["__file","3.性能公式.html.vue"]]),u=JSON.parse('{"path":"/machine_learning/3.%E6%80%A7%E8%83%BD%E5%85%AC%E5%BC%8F.html","title":"性能公式","lang":"zh-CN","frontmatter":{},"git":{"updatedTime":1770690014000,"contributors":[{"name":"g_xing","username":"","email":"g_xing@163.com","commits":2}],"changelog":[{"hash":"06d4d5dc1f08fd56966438207ddaa6512dde3263","time":1770690014000,"email":"g_xing@163.com","author":"g_xing","message":"feat: 日常更新"},{"hash":"4146b9e3440cf15a55406dbf09d98069a2cf671a","time":1770687430000,"email":"g_xing@163.com","author":"g_xing","message":"feat: 日常更新"}]},"filePathRelative":"machine_learning/3.性能公式.md"}');export{i as comp,u as data};
